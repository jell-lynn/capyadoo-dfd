@startuml CapYaDoo_Level1_Simplified
!theme plain
skinparam backgroundColor white

' Actors
actor "User\n(ผู้ใช้งาน)" as User
actor "System Administrator\n(ผู้ดูแลระบบ)" as Admin

' External Systems
rectangle "Drug Database API" as DrugAPI
rectangle "OCR Service" as OCRService
rectangle "Text-to-Speech Engine" as TTSEngine
rectangle "SMS/Email Service" as SMSService
rectangle "Mobile Push Notification" as PushNotif

' Databases
database "User Database\n(ฐานข้อมูลผู้ใช้)" as UserDB
database "Medication Database\n(ฐานข้อมูลยา)" as MedDB
database "History Database\n(ฐานข้อมูลประวัติ)" as HistoryDB
database "Notification Database\n(ฐานข้อมูลแจ้งเตือน)" as NotifDB

' Main Processes
rectangle "1.0\nUser Management\n(การจัดการผู้ใช้)" as P1
rectangle "2.0\nMedication Recognition\n& Information Retrieval\n(การรู้จำยาและดึงข้อมูล)" as P2
rectangle "3.0\nMedication Scheduling\n& Tracking\n(การจัดตารางและติดตามยา)" as P3
rectangle "4.0\nNotification Management\n(การจัดการแจ้งเตือน)" as P4
rectangle "5.0\nHealth History\n& Reporting\n(ประวัติสุขภาพและรายงาน)" as P5

' User interactions
User --> P1 : Login/Registration\n(เข้าสู่ระบบ/สมัครสมาชิก)
User --> P2 : Medication Images/Barcode\n(รูปภาพยา/บาร์โค้ด)
User --> P3 : Medication Intake Confirmation\n(ยืนยันการทานยา)
User --> P4 : Notification Preferences\n(การตั้งค่าการแจ้งเตือน)
User --> P5 : Symptom Input\n(ป้อนข้อมูลอาการ)

P1 --> User : Authentication Status\n(สถานะการยืนยันตัวตน)
P2 --> User : Voice Instructions & Drug Info\n(คำแนะนำเสียงและข้อมูลยา)
P3 --> User : Medication Schedule\n(ตารางเวลายา)
P4 --> User : Medication Reminders\n(การแจ้งเตือนยา)
P5 --> User : Health Reports\n(รายงานสุขภาพ)

' System Administrator interactions
Admin --> P1 : System Configuration\n(การตั้งค่าระบบ)
Admin --> P1 : User Account Management\n(การจัดการบัญชีผู้ใช้)

P1 --> Admin : System Analytics\n(การวิเคราะห์ระบบ)
P1 --> Admin : User Activity Reports\n(รายงานกิจกรรมผู้ใช้)

' External System connections
P2 <--> DrugAPI : Drug Information Exchange\n(การแลกเปลี่ยนข้อมูลยา)
P2 <--> OCRService : Image Processing\n(การประมวลผลรูปภาพ)
P2 <--> TTSEngine : Text-to-Speech Conversion\n(การแปลงข้อความเป็นเสียง)
P4 <--> SMSService : SMS/Email Delivery\n(การส่ง SMS/อีเมล)
P4 <--> PushNotif : Push Notification Delivery\n(การส่งการแจ้งเตือน)

' Database connections
P1 <--> UserDB : User Data\n(ข้อมูลผู้ใช้)
P2 <--> MedDB : Medication Information\n(ข้อมูลยา)
P3 <--> MedDB : Schedule Data\n(ข้อมูลตารางเวลา)
P3 --> HistoryDB : Medication History\n(ประวัติการทานยา)
P4 <--> NotifDB : Notification Settings\n(การตั้งค่าแจ้งเตือน)
P5 <--> HistoryDB : Health Records\n(บันทึกสุขภาพ)

@enduml
